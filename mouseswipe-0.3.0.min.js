/*
 MouseSwipe v0.3.0
 (c) 2015 Depth Development. http://depthdev.com
 License: MIT
*/

function MouseSwipe(e){var t={ms:0,x:0,y:0},a={ms:0,x:0,y:0},f=e.swipe,n=!1,o=function(a){t.ms=a.timeStamp,t.x=a.clientX-e.area.offsetLeft,t.x=t.x<0?0:t.x>e.area.offsetWidth?e.area.offsetWidth:t.x,t.y=event.clientY-e.area.offsetTop,t.y=t.y<0?0:t.y>e.area.offsetHeight?e.area.offsetHeight:t.y},i=function(t){a.ms=t.timeStamp,a.x=t.clientX-e.area.offsetLeft,a.x=a.x<0?0:a.x>e.area.offsetWidth?e.area.offsetWidth:a.x,a.y=event.clientY-e.area.offsetTop,a.y=a.y<0?0:a.y>e.area.offsetHeight?e.area.offsetHeight:a.y,e.change&&e.change(m())},s=function(f){var o=event.clientX-e.area.offsetLeft,i=event.clientY-e.area.offsetTop;a.ms=f.timeStamp,a.x=o,a.y=i,e.move&&n&&e.move({ms:f.timeStamp-t.ms,x:(0>o?0:o>e.area.offsetWidth?e.area.offsetWidth:o)-t.x,y:(0>i?0:i>e.area.offsetHeight?e.area.offsetHeight:i)-t.y}),e.moving&&e.moving({ms:f.timeStamp,x:0>o?0:o>e.area.offsetWidth?e.area.offsetWidth:o,y:0>i?0:i>e.area.offsetHeight?e.area.offsetHeight:i})},r=function(){if(f){var e=m(),t=Math.abs(e.x),a=Math.abs(e.y);return t/f>a?e.x>0?"right":"left":a/f>t?e.y>0?"down":"up":!1}},m=function(){return{ms:a.ms-t.ms,x:a.x-t.x,y:a.y-t.y}};return function(){e.area.addEventListener("mouseenter",function(){n=!1}),(e.change||e.move)&&(e.area.addEventListener("mousedown",function(t){n=!0,o(t),e.down&&e.down()},!1),e.area.addEventListener("mouseup",function(t){n=!1,i(t),e.up&&e.up()},!1)),(e.move||e.moving)&&e.area.addEventListener("mousemove",s,!1)}.bind(this)(),{swipe:r}}
